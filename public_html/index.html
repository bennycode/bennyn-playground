<!DOCTYPE html>
<html>
  <head>
    <title>Zeta web-app</title>
    <meta charset="UTF-8" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="zeta/view/registration/background_switcher.css" />
    <!-- External base -->
    <script src="js/libs/jquery-2.0.3.min.js"></script>
    <script src="js/libs/knockout-3.0.0.js"></script>
    <!-- External helpers -->
    <script src="js/libs/PhoneFormat.js"></script>
    <script src="js/libs/uuid.js"></script>
    <script src="js/libs/sha256.js"></script>
    <!-- Zeta.Utils -->
    <script src="zeta/utils/misc.js"></script>
    <script src="zeta/utils/namespace.js"></script>
    <script src="zeta/utils/shorthand.js"></script>
    <script src="zeta/utils/request_handler.js"></script>
    <!-- Zeta.Model -->
    <script src="zeta/model/login.js"></script>
    <script src="zeta/model/user_properties.js"></script>
    <script src="zeta/model/user.js"></script>
    <script src="zeta/model/conversation.js"></script>
    <!-- Zeta.Storage -->
    <script src="zeta/storage/session.js"></script>
    <!-- Zeta.Service -->
    <script src="zeta/service/urls.js"></script>
    <script src="zeta/service/user_service.js"></script>
    <script src="zeta/service/conversation_service.js"></script>
    <script src="zeta/service/main.js"></script>
    <!-- View -->
    <script src="zeta/view/registration/background_switcher.js"></script>
    <!-- View models -->
    <script src="zeta/view_model/main_view_model.js"></script>
    <!-- Main -->
    <script src="zeta/main/instances.js"></script>
    <script src="zeta/main/demo.js"></script>
    <!-- CSS Frameworks -->
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.3.0/pure-min.css" />
    <style>
      html, 
      body { 
        width: 100%; 
        height: 100%; 
      }

      #website-content {
        /* Begins in the upper left corner */
        position: absolute;
        top: 0;
        left: 0;
        /* Takes the full dimension of the viewport */ 
        width: 100%;
        height: 100%;
      }

      #conversation-input-text {
        margin: 5px;
      }

      .pure-button {
        color: white;
      }

      .pure-button-error {
        /*maroon*/
        background: rgb(202, 60, 60);
      }
    </style>
  </head>
  <body>
    <!-- First time faces -->
    <div id="first-time-background">
      <div class="faces underneath"></div>
      <div class="faces on-top"></div>
    </div>
    <!-- Proper website content -->
    <div id="website-content">

      <div id="bottom">
        <div id="bottom-wrapper" class="layout-wrapper">
          <div id="bottom-grid" class="pure-g-r">
            <div id="bottom-unit-1" class="pure-u-1">

              <!-- Conversations -->
              <div id="conversation-list-grid" class="pure-g-r">
                <div id="conversation-list-unit-1" class="pure-u-1-3">
                  <!-- Menu -->
                  <div class="pure-menu pure-menu-open">
                    <a class="pure-menu-heading">Your conversations</a>

                    <ul id="conversation-list" data-bind="foreach: conversations">
                      <li><a href="#" data-bind="text: name, click: $parent.open_conversation"></a></li>
                    </ul>

                  </div>
                </div>
                <div id="conversation-list-unit-2" class="pure-u-2-3">
                  <div class="conversation-header">
                    <p data-bind="html: conversation_intro"></p>
                  </div>
                  <div data-bind="foreach: conversation_messages">
                    <p data-bind="html: $data"></p>
                  </div>
                  <div id="conversation-controls" class="pure-control-group">
                    <form class="pure-form" autocomplete="off">
                      <input id="conversation-input-text" type="text" placeholder="Start typing..."
                             data-bind="value: conversation_input_text"
                             />
                      <button class="pure-button pure-button-primary"
                              data-bind="click: send_message_to_conversation"
                              >Send</button>
                      <button class="pure-button pure-button-error"
                              data-bind="click: send_knock"
                              >Knock</button>
                      <button class="pure-button pure-button-error"
                              data-bind="click: send_hot_knock"
                              >Hot Knock</button>
                    </form>
                  </div>
                </div>
              </div>

            </div> <!-- /bottom-unit -->
          </div> <!-- /bottom-grid -->
        </div> <!-- /bottom-wrapper -->
      </div> <!-- /bottom -->

    </div> <!-- /website-content -->
    <script>
      $(window).load(function() {
        var config = {
          images: [
            'images/welcome_screen_photos/test_bg_01.jpg',
            'images/welcome_screen_photos/test_bg_02.jpg',
            'images/welcome_screen_photos/test_bg_03.jpg',
            'images/welcome_screen_photos/test_bg_04.jpg',
            'images/welcome_screen_photos/test_bg_05.jpg',
            'images/welcome_screen_photos/test_bg_06.jpg',
            'images/welcome_screen_photos/test_bg_07.jpg',
            'images/welcome_screen_photos/test_bg_08.jpg',
            'images/welcome_screen_photos/test_bg_09.jpg',
            'images/welcome_screen_photos/test_bg_10.jpg'
          ],
          selector_wrapper: '#first-time-background',
          selector_animated: '.on-top',
          selector_not_animated: '.underneath'
        };

//        var background_switcher = new Zeta.View.Registration.BackgroundSwitcher(config);
//        
//        $(window).resize(function(event) {
//          background_switcher.on_resize();
//        });
      });
    </script>
  </body>
</html>